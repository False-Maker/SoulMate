如何⽔平居中？
SDKCanvas布局机制说明
模版
样式解析（这个是SDK通过读的配置，默认⽣成样式）
SDK⽣成的canvas元素使⽤以下样式实现⾃适应布局：
1
2
3
4
5
6
7
8
9
代码块
position: absolute;
inset: 0px;
z-index: 100;
height: 100%;
object-fit: contain;
left: calc(-0.30029154518950435 * 100%);
top: calc(-0.29720853858784896 * 100%);
transform: scale(1.6059113300492611, 1.6059113300492611);
transform-origin: top left;
⼯作原理图解
代码块
┌─────────────────────────────────────────────────────────────┐ 
│                    
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
⽗容器
 (.sdk-container)                    
│                    
│                                                               
宽度
: 100%, 
⾼度
: 100%                     
│ 
│ 
│ 
│  ┌─────────────────────────────────────────────────────┐   │ 
│  │  
步骤
1: inset: 0 (
初始状态
)                           
│   │ 
│  │  Canvas 
占满整个⽗容器
                                 
│   │ 
│  │  ┌──────────────────────────────────────────────┐   │   │ 
│  │  │                                              
│   │   │ 
│  │  │            
│  │  │                                              
Canvas (100% × 100%)             
│   │   │ 
│  │  └──────────────────────────────────────────────┘   │   │ 
│  └─────────────────────────────────────────────────────┘   │ 
│                                                               
│ 
│  ┌─────────────────────────────────────────────────────┐   │ 
│  │  
步骤
2: 
负偏移
 (left: -30%, top: -29.7%)            
│  │  
向左上⻆移动，为后续缩放做准备
                       
│  │                                                       
│  │  │         
│  │  │                                              
│  │  │                                              
│  │  │                                              
Canvas (
向左上⻆偏移
)                
│   │   │ 
│   │ 
│   │ 
│   │ 
│  │  ┌──────────────────────────────────────────────┐   │   │ 
│  │  │                                              
│   │   │ 
│   │   │ 
│   │   │ 
│  │  └──────────────────────────────────────────────┘   │   │ 
│  └─────────────────────────────────────────────────────┘   │ 
│                                                               
│ 
│  ┌─────────────────────────────────────────────────────┐   │ 
│  │  
步骤
3: 
缩放
 (scale: 1.606, origin: top left)        
│   │ 
│  │  
从左上⻆放⼤，填满容器并保持⽐例
                     
│   │ 
│  │  ┌──────────────────────────────────────────────┐   │   │ 
│  │  │                                              
│   │   │ 
│   │   │ 
│  │  │     Canvas (
放⼤
1.606
倍，从左上⻆开始
)        
│  │  │                                              
│   │   │ 
│   │   │ 
│   │   │ 
│  │  └──────────────────────────────────────────────┘   │   │ 
│  └─────────────────────────────────────────────────────┘   │ 
└─────────────────────────────────────────────────────────────┘ 
详细说明
SDK通过三步变换实现数字⼈画⾯的⾃适应居中与填充，确保在不同屏幕⽐例下都能正确显⽰。
第⼀步：占满容器(
inset: 0px 
)Canvas元素⾸先通过绝对定位占满整个⽗容器（100%×
100%），建⽴基础布局框架。此时元素完全覆盖⽗容器区域。
第⼆步：负向偏移(
left: -30%, top: -29.7% 
)为了后续的缩放操作，Canvas向左上⻆⽅向移
动。负的left和top值将元素向左上⽅偏移约30%和29.7%，为放⼤操作预留空间。这个偏移量是
SDK根据容器与数字⼈原始⽐例（9:16）的差异动态计算的。
第三步：缩放变换(
scale: 1.606, transform-origin: top left 
)最关键的⼀步：从左上
⻆（
transform-origin: top left 
）开始，将Canvas放⼤1.606倍。由于之前已经向左上⻆
偏移，放⼤后的元素能够：
•
•
•
保持数字⼈的原始宽⾼⽐（9:16）
完全填满⽗容器（类似
object-fit: 
contain的效果）
超出容器的部分被
overflow: hidden 
裁剪
最终效果：数字⼈画⾯在保持⽐例的同时填满容器，实现视觉上的居中与完整显⽰。这种⽅案⽐单纯
的CSS
object-fit 
更灵活，允许SDK根据实际渲染尺⼨进⾏精确计算和调整。
数值含义（这些值都是通过从星云应⽤管理的选择模版后⽣成的位置）
•
•
•
•
left:-30%：向左偏移容器宽度的30%，为放⼤预留空间
top:-29.7%：向上偏移容器⾼度的29.7%，为放⼤预留空间
scale: 1.606：放⼤倍数，确保放⼤后能填满容器
transform-origin: top left：变换原点在左上⻆，保证缩放从左上⻆开始
这些数值是SDK根据以下公式动态计算的：
代码块
1
2
偏移量
 = (
容器⽐例
 - 
数字⼈⽐例
) / 2
缩放⽐
 = max(
容器宽度
/
数字⼈宽度
, 
容器⾼度
/
数字⼈⾼度
)
为什么需要这样？
1. 保持⽐例：数字⼈原始⽐例是9:16（竖屏），但容器可能是其他⽐例
2. 填满屏幕：需要类似
object-fit: cover 
的效果，确保画⾯充满容器
3. 精确控制：SDK需要根据实际渲染尺⼨进⾏精确计算，⽽不是依赖CSS的⾃动处理
4. 居中显⽰：通过负偏移+缩放的组合，确保数字⼈主体在视觉上居中
与CSSobject-fit 的对⽐
SDK⽅案的优势在于可以根据实际渲染内容进⾏更精确的控制和优化。
应⽤加⼯
上⾯代码已经可以做到模版⾥⾯的是什么样的对应的渲染出来就是什么样。但是如果需要满⾜所有屏
幕下，都是⼀样进⾏缩放也不会改变数字⼈的位置，使得保持⽔平居中，就应该把对应的.avatar
render .sdk-container都撑满整个视⼝就⾏
应⽤层只需要对应的html结构和CSS样式是这样既可
代码块
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
<div ref="containerRef" class="avatar-render">
<!-- SDK 
渲染容器
 --> 
<div :id="containerId" class="sdk-container" 
...
</div>
.avatar-render {
flex: 1;
position: relative;
width: 100%;
height: 100%;
}
.sdk-container {
width: 100%;
height: 100%;
}
/
>